{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anaghasethuraman/Desktop/CMPE 273/MERN Stack/movieapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anaghasethuraman/Desktop/CMPE 273/MERN Stack/movieapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/anaghasethuraman/Desktop/CMPE 273/MERN Stack/movieapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import MovieInfo from'./MovieInfo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchMovie=function SearchMovie(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];//keeping array of movies in an object\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var url=\"https://api.themoviedb.org/3/search/movie?api_key=5dcf7f28a88be0edc01bbbde06f024ab&language=en-US&query=\".concat(query,\"&page=1&include_adult=false\");//async and await\nvar getMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var result,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return fetch(url);case 4:result=_context.sent;_context.next=7;return result.json();case 7:data=_context.sent;setMovies(data.results);//obtained by checking on inspect \nconsole.log('my states ',query,movies);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log('fetch error',_context.t0.message);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function getMovies(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"content\",className:\"section\",onSubmit:getMovies,children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"MOVIE NAME\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"text\",name:\"query\",required:true,onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",type:\"submit\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-list\",children:movies.filter(function(movie){return movie.poster_path;}).map(function(movie){return/*#__PURE__*/_jsx(MovieInfo,{movie:movie},movie.id);})})]});};export default SearchMovie;","map":{"version":3,"sources":["/Users/anaghasethuraman/Desktop/CMPE 273/MERN Stack/movieapp/src/components/SearchMovie.js"],"names":["React","useState","MovieInfo","SearchMovie","query","setQuery","movies","setMovies","url","getMovies","e","preventDefault","fetch","result","json","data","results","console","log","message","target","value","filter","movie","poster_path","map","id"],"mappings":"shBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,wFACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eAEKF,QAAQ,CAAC,EAAD,CAFb,wCAEdG,KAFc,eAERC,QAFQ,eAGtB;AAHsB,eAIMJ,QAAQ,CAAC,EAAD,CAJd,yCAIdK,MAJc,eAIPC,SAJO,eAMtB,GAAMC,CAAAA,GAAG,mHAA8GJ,KAA9G,+BAAT,CAEA;AACA,GAAMK,CAAAA,SAAS,0FAAG,iBAAMC,CAAN,kJAEVA,CAAC,CAACC,cAAF,GAFU,sBAGWC,CAAAA,KAAK,CAACJ,GAAD,CAHhB,QAGJK,MAHI,qCAISA,CAAAA,MAAM,CAACC,IAAP,EAJT,QAIJC,IAJI,eAMVR,SAAS,CAAEQ,IAAI,CAACC,OAAP,CAAT,CAA4B;AAC5BC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAyBd,KAAzB,CAAgCE,MAAhC,EAPU,iFAUVW,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2B,YAAMC,OAAjC,EAVU,qEAAH,kBAATV,CAAAA,SAAS,4CAAf,CAcA,mBACI,aAAK,EAAE,CAAC,SAAR,CAAkB,SAAS,CAAG,SAA9B,CAAwC,QAAQ,CAAEA,SAAlD,wBACI,cAAM,SAAS,CAAC,cAAhB,wBAEI,cAAO,SAAS,CAAC,YAAjB,wBAFJ,cAGI,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,MAAnC,CAA0C,IAAI,CAAC,OAA/C,CACC,QAAQ,KADT,CACU,QAAQ,CAAK,kBAACC,CAAD,QAAOL,CAAAA,QAAQ,CAACK,CAAC,CAACU,MAAF,CAASC,KAAV,CAAf,EADvB,EAHJ,cAKI,eAAQ,SAAS,CAAC,aAAlB,CAAgC,IAAI,CAAC,QAArC,oBALJ,GADJ,cAQI,YAAK,SAAS,CAAC,WAAf,UAEIf,MAAM,CAACgB,MAAP,CAAc,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,WAAV,EAAnB,EAA0CC,GAA1C,CAA8C,SAAAF,KAAK,qBAC/C,KAAC,SAAD,EAAW,KAAK,CAAIA,KAApB,EAAiCA,KAAK,CAACG,EAAvC,CAD+C,EAAnD,CAFJ,EARJ,GADJ,CAmBH,CA1CD,CA4CA,cAAevB,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport MovieInfo from './MovieInfo';\nconst SearchMovie = () => {\n\n    const [ query,setQuery ] = useState('');\n    //keeping array of movies in an object\n    const [ movies,setMovies ]= useState([]);\n\n    const url = `https://api.themoviedb.org/3/search/movie?api_key=5dcf7f28a88be0edc01bbbde06f024ab&language=en-US&query=${query}&page=1&include_adult=false`;\n\n    //async and await\n    const getMovies = async(e) => {\n        try{\n            e.preventDefault();\n            const result = await fetch(url);\n            const data = await result.json(); \n\n            setMovies( data.results  ); //obtained by checking on inspect \n            console.log('my states ',query, movies);\n         \n        }catch(error){\n            console.log('fetch error', error.message)\n        }\n        \n    }    \n    return (\n        <div id='content' className = 'section' onSubmit={getMovies}>\n            <form className='form-control'>\n\n                <label className='form-label'>MOVIE NAME</label>\n                <input className='form-input' type='text' name='query'\n                 required onChange = { (e) => setQuery(e.target.value) } />\n                <button className='form-button' type='submit'>Search</button>\n            </form>\n            <div className='card-list'>\n                {\n                movies.filter(movie => movie.poster_path).map(movie =>\n                    <MovieInfo movie = {movie} key={ movie.id }/>\n                    )\n                }\n            </div>\n        </div>\n\n    )\n}\n\nexport default SearchMovie;\n"]},"metadata":{},"sourceType":"module"}